(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8b3b5a0a"],{"06ba":function(e,t,a){"use strict";a("8065")},"767d":function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{inline:e.inline,model:e.form,"label-width":"200px",rules:e.rules}},[e._l(e.formLabel,(function(t){return a("el-form-item",{key:t.model,attrs:{label:t.label}},["input"===t.type?a("el-input",{attrs:{placeholder:"请输入"+t.label,prop:e.form[t.model]},model:{value:e.form[t.model],callback:function(a){e.$set(e.form,t.model,a)},expression:"form[item.model]"}}):e._e(),"textarea"===t.type?a("el-input",{attrs:{placeholder:"请输入"+t.label,type:"textarea"},model:{value:e.form[t.model],callback:function(a){e.$set(e.form,t.model,a)},expression:"form[item.model]"}}):e._e(),"select"===t.type?a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form[t.model],callback:function(a){e.$set(e.form,t.model,a)},expression:"form[item.model]"}},e._l(t.opts,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e(),"switch"===t.type?a("el-switch",{model:{value:e.form[t.model],callback:function(a){e.$set(e.form,t.model,a)},expression:"form[item.model]"}}):e._e(),"date"===t.type?a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form[t.model],callback:function(a){e.$set(e.form,t.model,a)},expression:"form[item.model]"}}):e._e(),a("el-form-item",[e._t("default")],2)],1)})),e.isSearch?a("el-form-item",[a("el-button",{attrs:{size:"mini"},on:{click:e.handleResetForm}},[e._v("重置")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleFindForm}},[e._v("查询")])],1):e._e()],2)},r=[],n={props:{inline:{type:Boolean,default:!0},form:Object,formLabel:Array,rules:Object,isSearch:Boolean},methods:{handleResetForm:function(){this.$emit("resetForm",this.form)},handleFindForm:function(){this.$emit("findForm",this.form)}}},o=n,i=a("2877"),s=Object(i["a"])(o,l,r,!1,null,null,null);t["a"]=s.exports},8065:function(e,t,a){},8501:function(e,t,a){"use strict";a("9365")},9365:function(e,t,a){},bdfa:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order-list"},[a("el-form",{ref:"searchForm"},[a("div",{staticClass:"title"},[a("span",{staticClass:"el-icon-search"},[e._v("筛选搜索")])]),a("CommonForm",{ref:"searchForm",attrs:{formLabel:e.formLabel,form:e.form,isSearch:e.isSearch},on:{resetForm:e.resetForm,findForm:e.findForm}})],1),e._m(0),a("CommonTable",{staticClass:"list",attrs:{tableLabel:e.tableLabel,tableData:e.dealtableData,pager:e.pager,bulkOperation:e.bulkOperation},on:{pagination:e.pagination,sizeChange:e.sizeChange,orderInfo:e.orderInfo,deleteOrder:e.deleteOrder},scopedSlots:e._u([{key:"bulkOperation",fn:function(){return[a("el-select",{staticClass:"bulkOperation",attrs:{placeholder:"批量操作"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.bulkOperation,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1),a("el-button",{staticClass:"bulkBtn",attrs:{type:"primary",size:"samll"}},[e._v("确定")])]},proxy:!0}])})],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add"},[a("span",{staticClass:"el-icon-tickets"},[e._v(" 数据列表")])])}];function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=a("767d"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-table"},[a("el-table",{attrs:{data:e.tableData,stripe:"",height:"300px","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"编号",width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s((e.pager.currentPage-1)*e.pager.pageSize+t.$index+1))])]}}])}),e._l(e.tableLabel,(function(t){return a("el-table-column",{key:t.prop,attrs:{"show-overflow-tooltip":"",tableLabel:e.tableLabel,label:t.label,width:t.width?t.width:""},scopedSlots:e._u([{key:"default",fn:function(l){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(l.row[t.prop]))])]}}],null,!0)})})),a("el-table-column",{attrs:{prop:"adddel",label:e.tableOption.label,width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{tag:"el-button",to:"/order/listInfo/"+t.$index,type:"primary",size:"mini"},on:{click:function(a){return e.handleOrderInfo(t.$index,t.row)}}},[e._v("查看订单")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.handleDeleteOrder(t.$index,t.row)}}},[e._v("删除")])]}}])})],2),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"page-sizes":[5,10,15,20],total:e.pager.total,"current-page":e.pager.currentPage,"page-size":e.pager.pageSize,layout:"total, prev, pager, next, sizes"},on:{"update:currentPage":function(t){return e.$set(e.pager,"currentPage",t)},"update:current-page":function(t){return e.$set(e.pager,"currentPage",t)},"update:pageSize":function(t){return e.$set(e.pager,"pageSize",t)},"update:page-size":function(t){return e.$set(e.pager,"pageSize",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._t("bulkOperation")],2)},s=[],u={props:{tableData:{type:Array,default:function(){return[]}},tableLabel:{type:Array,default:function(){return[]}},tableOption:{type:Object,default:function(){return{}}},pager:{type:Object,default:function(){return{currentPage:1,pageSize:5,total:0}}},bulkOperation:{type:Array},value:""},data:function(){return{}},methods:{getAllSelections:function(){return this.$refs.table.selection},handleSizeChange:function(e){this.pager.currentPage=1,this.$emit("sizeChange",e)},handleCurrentChange:function(e){this.$emit("pagination",e)},handleOrderInfo:function(e,t){this.$emit("orderInfo",e,t)},handleDeleteOrder:function(e,t){this.$emit("deleteOrder",e,t)}}},c=u,p=(a("06ba"),a("2877")),d=Object(p["a"])(c,i,s,!1,null,"ddd1bb3c",null),m=d.exports,f=a("fe4f"),b={components:{CommonTable:m,CommonForm:o["a"]},data:function(){return{tableLabel:[{prop:"ordernum",label:"订单编号",width:"auto"},{prop:"date",label:"下单时间",width:"120"},{prop:"account",label:"用户账号",width:"100"},{prop:"money",label:"订单金额",width:"100"},{prop:"pay",label:"支付方式",width:"100"},{prop:"origin",label:"订单来源",width:"100"},{prop:"status",label:"订单状态",width:"100"}],tableData:[],dealtableData:[],pager:{pageSize:5,currentPage:1,total:0,totalPage:[]},bulkOperation:[{value:"选项1",label:"批量发货"},{value:"选项2",label:"关闭订单",disabled:!0},{value:"选项3",label:"删除订单"}],value:"",isSearch:!0,form:{},formLabel:[{model:"ordernum",label:"搜索订单号",type:"input"},{model:"account",label:"收货人",type:"input"},{model:"data",label:"下单日期",type:"date"},{model:"status",label:"订单状态",type:"select",opts:[{value:"待付款",label:"待付款"},{value:"待发货",label:"待发货"},{value:"已发货",label:"已发货"},{value:"已完成",label:"已完成"},{value:"已关闭",label:"已关闭"}]},{model:"orderType",label:"订单类型",type:"select",opts:[{value:"正常订单",label:"正常订单"},{value:"秒杀订单",label:"秒杀订单"}]},{model:"origin",label:"订单来源",type:"select",opts:[{value:"PC订单",label:"PC订单"},{value:"APP订单",label:"APP订单"}]}],rules:{ordernum:[{trigger:"blur",validator:f["b"]}]}}},methods:{getData:function(){var e=this;this.$http.get("/data/orderlist/orderlist").then((function(t){var a=t.data;e.tableData=a,e.dealPage(e.pager.currentPage)})).catch((function(e){return console.log("ListTable",e)}))},pagination:function(e){this.dealPage(e)},sizeChange:function(e){this.dealPage(this.pager.currentPage)},dealPage:function(e){this.pager.total=this.tableData.length,this.pager.pageNum=Math.ceil(this.tableData.length/this.pager.pageSize)||1;for(var t=0;t<this.pager.pageNum;t++)this.pager.totalPage[t]=this.tableData.slice(this.pager.pageSize*t,this.pager.pageSize*(t+1));this.dealtableData=this.pager.totalPage[e-1]},orderInfo:function(e,t){console.log(111,arguments)},deleteOrder:function(e,t){var a=this;this.$confirm("您确认删除该订单吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$http.post("/admin/order/delete",{ordernum:t.ordernum}).then((function(e){console.log("success",e),200===e.status&&a.$message({type:"success",message:"删除成功！"})})).catch((function(e){return a.$message.error("删除失败")}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},findForm:function(e){var t=this;console.log(222,e),this.$http.get("/admin/order/search",e).then((function(e){console.log(345,n(e)),t.dealtableData=e})).catch((function(e){return t.$message.error("查询失败")}))},resetForm:function(){}},created:function(){this.getData()}},h=b,g=(a("8501"),Object(p["a"])(h,l,r,!1,null,null,null));t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-8b3b5a0a.0802bc1f.js.map